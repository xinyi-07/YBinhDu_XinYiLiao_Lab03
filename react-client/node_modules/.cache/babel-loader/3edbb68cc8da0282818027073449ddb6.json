{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gilli\\\\Desktop\\\\YBinhDu_XinYiLiao_Lab03\\\\react-client\\\\src\\\\components\\\\List.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\nimport Login from './Login';\n\nfunction List(props) {\n  const [data, setData] = useState([]);\n  const [showLoading, setShowLoading] = useState(true);\n  const [listError, setListError] = useState(false);\n  const apiUrl = \"http://localhost:3000/students\";\n  useEffect(() => {\n    const fetchData = async () => {\n      axios.get(apiUrl).then(result => {\n        console.log('result.data:', result.data); //check if the student has logged in\n\n        if (result.data.screen !== 'auth') {\n          console.log('data in if:', result.data);\n          setData(result.data);\n          setShowLoading(false);\n        }\n      }).catch(error => {\n        console.log('error in fetchData:', error);\n        setListError(true);\n      });\n    };\n\n    fetchData();\n  }, []);\n\n  const showDetail = id => {\n    props.history.push({\n      pathname: '/show/' + id\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, data.length !== 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, showLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"List of Students\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ListGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, data.map((item, idx) => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: idx,\n    action: true,\n    onClick: () => {\n      showDetail(item._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 89\n    }\n  }, \"Student Number:\"), \" \", item.studentNumber, \", \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 134\n    }\n  }, \"Name:\"), \" \", item.firstName, \" \", item.lastName)))) : /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }));\n} //\n\n\nexport default withRouter(List);","map":{"version":3,"sources":["C:/Users/gilli/Desktop/YBinhDu_XinYiLiao_Lab03/react-client/src/components/List.js"],"names":["React","useState","useEffect","axios","ListGroup","Spinner","withRouter","Login","List","props","data","setData","showLoading","setShowLoading","listError","setListError","apiUrl","fetchData","get","then","result","console","log","screen","catch","error","showDetail","id","history","push","pathname","length","map","item","idx","_id","studentNumber","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\nimport Login from './Login';\n\nfunction List(props) {\n  const [data, setData] = useState([]);\n  const [showLoading, setShowLoading] = useState(true);\n  const [listError, setListError] = useState(false);\n  const apiUrl = \"http://localhost:3000/students\";\n\n  useEffect(() => {\n    const fetchData = async () => {\n      axios.get(apiUrl)\n        .then(result => {\n          console.log('result.data:', result.data)\n          //check if the student has logged in\n          if (result.data.screen !== 'auth') {\n\n            console.log('data in if:', result.data)\n            setData(result.data);\n            setShowLoading(false);\n          }\n        }).catch((error) => {\n          console.log('error in fetchData:', error)\n          setListError(true)\n        });\n    };\n    fetchData();\n  }, []);\n\n  const showDetail = (id) => {\n    props.history.push({\n      pathname: '/show/' + id\n    });\n  }\n\n  return (\n    <div>\n      { data.length !== 0\n        ? <div>\n          {showLoading && <Spinner animation=\"border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>}\n          <h3>List of Students</h3>\n          <br></br>\n          <ListGroup>\n            {data.map((item, idx) => (\n              <ListGroup.Item key={idx} action onClick={() => { showDetail(item._id) }}><b>Student Number:</b> {item.studentNumber}, <b>Name:</b> {item.firstName} {item.lastName}</ListGroup.Item>\n            ))}\n          </ListGroup>\n        </div>\n        : < Login />\n      }\n    </div>\n\n  );\n}\n//\nexport default withRouter(List);\n"]},"metadata":{},"sourceType":"module"}