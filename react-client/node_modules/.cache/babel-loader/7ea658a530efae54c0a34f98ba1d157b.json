{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gilli\\\\Desktop\\\\YBinhDu_XinYiLiao_Lab03\\\\react-client\\\\src\\\\components\\\\ShowCourse.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport { withRouter } from 'react-router-dom';\n\nfunction ShowCourse(props) {\n  console.log('props.match.params', props.match.params.id);\n  const [data, setData] = useState({});\n  const [showLoading, setShowLoading] = useState(true);\n  const apiUrl = \"http://localhost:3000/api/courses/\" + props.match.params.id;\n  useEffect(() => {\n    setShowLoading(false);\n\n    const fetchData = async () => {\n      const result = await axios(apiUrl);\n      console.log('results from courses', result.data);\n      setData(result.data);\n      setShowLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const editCourse = id => {\n    props.history.push({\n      pathname: '/editcourse/' + id\n    });\n  };\n\n  const deleteCourse = id => {\n    setShowLoading(true);\n    const course = {\n      courseCode: data.courseCode,\n      courseName: data.courseName,\n      section: data.section,\n      semester: data.semester\n    }; //\n\n    axios.delete(apiUrl, course).then(result => {\n      setShowLoading(false);\n      props.history.push('/listcourses');\n    }).catch(error => setShowLoading(false));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, showLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Course Code: \", data.courseCode), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Course Name: \", data.courseName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Section: \", data.section), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Semester: \", data.semester), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    variant: \"primary\",\n    onClick: () => {\n      editCourse(data._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, \"Update\"), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    variant: \"danger\",\n    onClick: () => {\n      deleteCourse(data._id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"Drop\"))));\n}\n\nexport default withRouter(ShowCourse);","map":{"version":3,"sources":["C:/Users/gilli/Desktop/YBinhDu_XinYiLiao_Lab03/react-client/src/components/ShowCourse.js"],"names":["React","useState","useEffect","axios","Spinner","Jumbotron","Button","withRouter","ShowCourse","props","console","log","match","params","id","data","setData","showLoading","setShowLoading","apiUrl","fetchData","result","editCourse","history","push","pathname","deleteCourse","course","courseCode","courseName","section","semester","delete","then","catch","error","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAArD;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCjB,QAAQ,CAAC,IAAD,CAA9C;AACA,QAAMkB,MAAM,GAAG,uCAAuCV,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAAzE;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,cAAc,CAAC,KAAD,CAAd;;AACA,UAAME,SAAS,GAAG,YAAY;AAC1B,YAAMC,MAAM,GAAG,MAAMlB,KAAK,CAACgB,MAAD,CAA1B;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCU,MAAM,CAACN,IAA3C;AAEAC,MAAAA,OAAO,CAACK,MAAM,CAACN,IAAR,CAAP;AACAG,MAAAA,cAAc,CAAC,KAAD,CAAd;AACH,KAND;;AAQAE,IAAAA,SAAS;AACZ,GAXQ,EAWN,EAXM,CAAT;;AAaA,QAAME,UAAU,GAAIR,EAAD,IAAQ;AACvBL,IAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB;AACfC,MAAAA,QAAQ,EAAE,iBAAiBX;AADZ,KAAnB;AAGH,GAJD;;AAMA,QAAMY,YAAY,GAAIZ,EAAD,IAAQ;AACzBI,IAAAA,cAAc,CAAC,IAAD,CAAd;AACA,UAAMS,MAAM,GAAG;AAAEC,MAAAA,UAAU,EAAEb,IAAI,CAACa,UAAnB;AAA+BC,MAAAA,UAAU,EAAEd,IAAI,CAACc,UAAhD;AAA4DC,MAAAA,OAAO,EAAEf,IAAI,CAACe,OAA1E;AAAmFC,MAAAA,QAAQ,EAAEhB,IAAI,CAACgB;AAAlG,KAAf,CAFyB,CAGzB;;AACA5B,IAAAA,KAAK,CAAC6B,MAAN,CAAab,MAAb,EAAqBQ,MAArB,EACKM,IADL,CACWZ,MAAD,IAAY;AACdH,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAT,MAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB,cAAnB;AACH,KAJL,EAIOU,KAJP,CAIcC,KAAD,IAAWjB,cAAc,CAAC,KAAD,CAJtC;AAKH,GATD;;AAWA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,WAAW,iBAAI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZ;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADY,CADpB,eAII,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkBF,IAAI,CAACa,UAAvB,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAiBb,IAAI,CAACc,UAAtB,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAad,IAAI,CAACe,OAAlB,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAcf,IAAI,CAACgB,QAAnB,CAJJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,SAA9B;AAAwC,IAAA,OAAO,EAAE,MAAM;AAAET,MAAAA,UAAU,CAACP,IAAI,CAACqB,GAAN,CAAV;AAAsB,KAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,uBAEI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAC,QAA9B;AAAuC,IAAA,OAAO,EAAE,MAAM;AAAEV,MAAAA,YAAY,CAACX,IAAI,CAACqB,GAAN,CAAZ;AAAwB,KAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CANJ,CAJJ,CADJ;AAkBH;;AAED,eAAe7B,UAAU,CAACC,UAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ShowCourse(props) {\r\n    console.log('props.match.params', props.match.params.id)\r\n    const [data, setData] = useState({});\r\n    const [showLoading, setShowLoading] = useState(true);\r\n    const apiUrl = \"http://localhost:3000/api/courses/\" + props.match.params.id;\r\n\r\n    useEffect(() => {\r\n        setShowLoading(false);\r\n        const fetchData = async () => {\r\n            const result = await axios(apiUrl);\r\n            console.log('results from courses', result.data);\r\n\r\n            setData(result.data);\r\n            setShowLoading(false);\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    const editCourse = (id) => {\r\n        props.history.push({\r\n            pathname: '/editcourse/' + id\r\n        });\r\n    };\r\n\r\n    const deleteCourse = (id) => {\r\n        setShowLoading(true);\r\n        const course = { courseCode: data.courseCode, courseName: data.courseName, section: data.section, semester: data.semester };\r\n        //\r\n        axios.delete(apiUrl, course)\r\n            .then((result) => {\r\n                setShowLoading(false);\r\n                props.history.push('/listcourses')\r\n            }).catch((error) => setShowLoading(false));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {showLoading && <Spinner animation=\"border\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </Spinner>}\r\n            <Jumbotron>\r\n                <h1>Course Code: {data.courseCode}</h1>\r\n                <p>Course Name: {data.courseName}</p>\r\n                <p>Section: {data.section}</p>\r\n                <p>Semester: {data.semester}</p>\r\n\r\n                <p>\r\n                    <Button type=\"button\" variant=\"primary\" onClick={() => { editCourse(data._id) }}>Update</Button>&nbsp;\r\n                    <Button type=\"button\" variant=\"danger\" onClick={() => { deleteCourse(data._id) }}>Drop</Button>\r\n                </p>\r\n            </Jumbotron>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(ShowCourse);\r\n"]},"metadata":{},"sourceType":"module"}